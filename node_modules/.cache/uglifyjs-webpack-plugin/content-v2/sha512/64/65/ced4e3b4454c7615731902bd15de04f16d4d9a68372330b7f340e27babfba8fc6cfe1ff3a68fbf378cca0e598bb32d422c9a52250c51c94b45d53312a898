{"map":"{\"version\":3,\"sources\":[\"/home/citshares/work/UI/bitshares-ui/app/components/News.jsx\"],\"names\":[\"query\",\"tag\",\"limit\",\"alignRight\",\"textAlign\",\"alignLeft\",\"rowHeight\",\"height\",\"bodyCell\",\"padding\",\"headerCell\",\"leftCell\",\"rightCell\",\"leftCellHeader\",\"rightCellHeader\",\"secondCol\",\"width\",\"SomethingWentWrong\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"a\",\"createElement\",\"react_translate_component__WEBPACK_IMPORTED_MODULE_3___default\",\"content\",\"ReusableLink\",\"_ref\",\"data\",\"url\",\"_ref$isLink\",\"isLink\",\"undefined\",\"href\",\"rel\",\"target\",\"style\",\"display\",\"className\",\"sanitize__WEBPACK_IMPORTED_MODULE_5___default\",\"whiteList\",\"stripIgnoreTag\",\"NewsTable\",\"_ref2\",\"fontSize\",\"component\",\"map\",\"singleNews\",\"iter\",\"theAuthor\",\"parentAuthor\",\"author\",\"formattedDate\",\"counterpart__WEBPACK_IMPORTED_MODULE_1___default\",\"localize\",\"Date\",\"created\",\"smartTitle\",\"title\",\"length\",\"slice\",\"Math\",\"floor\",\"key\",\"News\",\"props\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"Object\",\"getPrototypeOf\",\"call\",\"state\",\"isLoading\",\"isWrong\",\"discussions\",\"updateDimensions\",\"bind\",\"orderDiscussions\",\"Component\",\"setState\",\"window\",\"innerWidth\",\"orderedDiscussions\",\"sort\",\"b\",\"_this2\",\"addEventListener\",\"steem_js_api__WEBPACK_IMPORTED_MODULE_2__\",\"getDiscussionsByBlog\",\"then\",\"catch\",\"removeEventListener\",\"_state\",\"_LoadingIndicator__WEBPACK_IMPORTED_MODULE_4__\",\"__webpack_exports__\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\";\\nimport counterpart from \\\"counterpart\\\";\\nimport {api} from \\\"steem-js-api\\\";\\nimport Translate from \\\"react-translate-component\\\";\\nimport LoadingIndicator from \\\"./LoadingIndicator\\\";\\nimport sanitize from \\\"sanitize\\\";\\n\\nconst query = {tag: \\\"bitshares.fdn\\\", limit: 20};\\n\\nconst alignRight = {textAlign: \\\"right\\\"};\\nconst alignLeft = {textAlign: \\\"left\\\"};\\nconst rowHeight = {height: \\\"2rem\\\"};\\nconst bodyCell = {padding: \\\"0.5rem 1rem\\\"};\\nconst headerCell = {padding: \\\"0.85rem 1rem\\\"};\\n\\nconst leftCell = {...alignLeft, ...bodyCell};\\nconst rightCell = {...alignRight, ...bodyCell};\\n\\nconst leftCellHeader = {...alignLeft, ...headerCell};\\nconst rightCellHeader = {...alignRight, ...headerCell};\\n\\nconst secondCol = {...leftCell, width: \\\"180px\\\"};\\n\\nconst SomethingWentWrong = () => (\\n    <p>\\n        <Translate content=\\\"news.errors.fetch\\\" />\\n    </p>\\n);\\n\\nconst ReusableLink = ({data, url, isLink = false}) => (\\n    <a\\n        href={`https://steemit.com${url}`}\\n        rel=\\\"noreferrer noopener\\\"\\n        target=\\\"_blank\\\"\\n        style={{display: \\\"block\\\"}}\\n        className={!isLink ? \\\"primary-text\\\" : \\\"\\\"}\\n    >\\n        {sanitize(data, {\\n            whiteList: [], // empty, means filter out all tags\\n            stripIgnoreTag: true // filter out all HTML not in the whilelist\\n        })}\\n    </a>\\n);\\n\\nconst NewsTable = ({data, width}) => {\\n    return (\\n        <table\\n            className=\\\"table table-hover dashboard-table\\\"\\n            style={{fontSize: \\\"0.85rem\\\"}}\\n        >\\n            <thead>\\n                <tr>\\n                    <th style={rightCellHeader}>\\n                        <Translate\\n                            component=\\\"span\\\"\\n                            content=\\\"account.votes.line\\\"\\n                        />\\n                    </th>\\n                    <th style={leftCellHeader}>\\n                        <Translate\\n                            component=\\\"span\\\"\\n                            content=\\\"explorer.block.date\\\"\\n                        />\\n                    </th>\\n                    <th style={leftCellHeader}>\\n                        <Translate component=\\\"span\\\" content=\\\"news.subject\\\" />\\n                    </th>\\n                    <th style={leftCellHeader}>\\n                        <Translate component=\\\"span\\\" content=\\\"news.author\\\" />\\n                    </th>\\n                </tr>\\n            </thead>\\n            <tbody>\\n                {data.map((singleNews, iter) => {\\n                    const theAuthor = singleNews.parentAuthor\\n                        ? singleNews.parentAuthor\\n                        : singleNews.author;\\n                    const formattedDate = counterpart.localize(\\n                        new Date(singleNews.created)\\n                    );\\n                    const smartTitle =\\n                        singleNews.title.length * 6 > width - 450\\n                            ? `${singleNews.title.slice(\\n                                  0,\\n                                  Math.floor(width - 450) / 6\\n                              )}...`\\n                            : singleNews.title;\\n                    return (\\n                        <tr key={`${singleNews.title.slice(0, 10)}${iter}`}>\\n                            <td style={rightCell}>\\n                                <ReusableLink\\n                                    data={iter + 1}\\n                                    url={singleNews.url}\\n                                />\\n                            </td>\\n                            <td style={secondCol}>\\n                                <ReusableLink\\n                                    data={formattedDate}\\n                                    url={singleNews.url}\\n                                />\\n                            </td>\\n                            <td style={leftCell}>\\n                                <ReusableLink\\n                                    data={smartTitle}\\n                                    url={singleNews.url}\\n                                    isLink\\n                                />\\n                            </td>\\n                            <td style={leftCell}>\\n                                <ReusableLink\\n                                    data={theAuthor}\\n                                    url={singleNews.url}\\n                                />\\n                            </td>\\n                        </tr>\\n                    );\\n                })}\\n            </tbody>\\n            <thead>\\n                <tr style={rowHeight}>\\n                    <th style={rightCell} />\\n                    <th style={leftCell} />\\n                    <th style={leftCell} />\\n                    <th style={leftCell} />\\n                </tr>\\n            </thead>\\n        </table>\\n    );\\n};\\n\\nclass News extends React.Component {\\n    constructor(props) {\\n        super(props);\\n        this.state = {\\n            isLoading: true,\\n            isWrong: false,\\n            discussions: [],\\n            width: 1200\\n        };\\n        this.updateDimensions = this.updateDimensions.bind(this);\\n        this.orderDiscussions = this.orderDiscussions.bind(this);\\n    }\\n\\n    updateDimensions() {\\n        this.setState({width: window.innerWidth});\\n    }\\n\\n    orderDiscussions(discussions) {\\n        const orderedDiscussions = discussions.sort(\\n            (a, b) => new Date(b.created) - new Date(a.created)\\n        );\\n        this.setState({discussions: orderedDiscussions, isLoading: false});\\n    }\\n\\n    componentDidMount() {\\n        this.updateDimensions();\\n        window.addEventListener(\\\"resize\\\", this.updateDimensions);\\n        api\\n            .getDiscussionsByBlog(query)\\n            .then(discussions => {\\n                this.orderDiscussions(discussions);\\n            })\\n            .catch(() => {\\n                this.setState({isLoading: false, isWrong: true});\\n            });\\n    }\\n\\n    componentWillUnmount() {\\n        window.removeEventListener(\\\"resize\\\", this.updateDimensions);\\n    }\\n\\n    render() {\\n        const {isLoading, isWrong, discussions, width} = this.state;\\n\\n        return (\\n            <div className=\\\"grid-block page-layout\\\">\\n                <div className=\\\"grid-block vertical\\\">\\n                    <div className=\\\"account-tabs\\\">\\n                        <div className=\\\"tab-content\\\">\\n                            <div className=\\\"grid-block vertical\\\">\\n                                {isWrong && <SomethingWentWrong />}\\n                                {isLoading ? <LoadingIndicator /> : null}\\n                                {!isWrong &&\\n                                    !isLoading && (\\n                                        <NewsTable\\n                                            width={width}\\n                                            data={discussions}\\n                                        />\\n                                    )}\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        );\\n    }\\n}\\n\\nexport default News;\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{2283:function(e,t){},2293:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),l=n(2268),s=n(3),c=n.n(s),u=n(41),m=n(334),d=n.n(m),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var f={tag:\"bitshares.fdn\",limit:20},E={textAlign:\"right\"},y={textAlign:\"left\"},b={height:\"2rem\"},v={padding:\"0.5rem 1rem\"},w={padding:\"0.85rem 1rem\"},g=h({},y,v),k=h({},E,v),D=h({},y,w),O=h({},E,w),j=h({},g,{width:\"180px\"}),L=function(){return r.a.createElement(\"p\",null,r.a.createElement(c.a,{content:\"news.errors.fetch\"}))},_=function(e){var t=e.data,n=e.url,a=e.isLink,i=void 0!==a&&a;return r.a.createElement(\"a\",{href:\"https://steemit.com\"+n,rel:\"noreferrer noopener\",target:\"_blank\",style:{display:\"block\"},className:i?\"\":\"primary-text\"},d()(t,{whiteList:[],stripIgnoreTag:!0}))},N=function(e){var t=e.data,n=e.width;return r.a.createElement(\"table\",{className:\"table table-hover dashboard-table\",style:{fontSize:\"0.85rem\"}},r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",null,r.a.createElement(\"th\",{style:O},r.a.createElement(c.a,{component:\"span\",content:\"account.votes.line\"})),r.a.createElement(\"th\",{style:D},r.a.createElement(c.a,{component:\"span\",content:\"explorer.block.date\"})),r.a.createElement(\"th\",{style:D},r.a.createElement(c.a,{component:\"span\",content:\"news.subject\"})),r.a.createElement(\"th\",{style:D},r.a.createElement(c.a,{component:\"span\",content:\"news.author\"})))),r.a.createElement(\"tbody\",null,t.map(function(e,t){var a=e.parentAuthor?e.parentAuthor:e.author,i=o.a.localize(new Date(e.created)),l=6*e.title.length>n-450?e.title.slice(0,Math.floor(n-450)/6)+\"...\":e.title;return r.a.createElement(\"tr\",{key:\"\"+e.title.slice(0,10)+t},r.a.createElement(\"td\",{style:k},r.a.createElement(_,{data:t+1,url:e.url})),r.a.createElement(\"td\",{style:j},r.a.createElement(_,{data:i,url:e.url})),r.a.createElement(\"td\",{style:g},r.a.createElement(_,{data:l,url:e.url,isLink:!0})),r.a.createElement(\"td\",{style:g},r.a.createElement(_,{data:a,url:e.url})))})),r.a.createElement(\"thead\",null,r.a.createElement(\"tr\",{style:b},r.a.createElement(\"th\",{style:k}),r.a.createElement(\"th\",{style:g}),r.a.createElement(\"th\",{style:g}),r.a.createElement(\"th\",{style:g}))))},x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!0,isWrong:!1,discussions:[],width:1200},n.updateDimensions=n.updateDimensions.bind(n),n.orderDiscussions=n.orderDiscussions.bind(n),n}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),p(t,[{key:\"updateDimensions\",value:function(){this.setState({width:window.innerWidth})}},{key:\"orderDiscussions\",value:function(e){var t=e.sort(function(e,t){return new Date(t.created)-new Date(e.created)});this.setState({discussions:t,isLoading:!1})}},{key:\"componentDidMount\",value:function(){var e=this;this.updateDimensions(),window.addEventListener(\"resize\",this.updateDimensions),l.api.getDiscussionsByBlog(f).then(function(t){e.orderDiscussions(t)}).catch(function(){e.setState({isLoading:!1,isWrong:!0})})}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"resize\",this.updateDimensions)}},{key:\"render\",value:function(){var e=this.state,t=e.isLoading,n=e.isWrong,a=e.discussions,i=e.width;return r.a.createElement(\"div\",{className:\"grid-block page-layout\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},r.a.createElement(\"div\",{className:\"account-tabs\"},r.a.createElement(\"div\",{className:\"tab-content\"},r.a.createElement(\"div\",{className:\"grid-block vertical\"},n&&r.a.createElement(L,null),t?r.a.createElement(u.a,null):null,!n&&!t&&r.a.createElement(N,{width:i,data:a}))))))}}]),t}();t.default=x}}]);","extractedComments":[]}