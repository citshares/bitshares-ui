{"map":"{\"version\":3,\"sources\":[\"/home/citshares/work/UI/bitshares-ui/app/components/Account/CreateWorker.jsx\"],\"names\":[\"CreateWorker\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"Object\",\"getPrototypeOf\",\"call\",\"state\",\"title\",\"start\",\"Date\",\"end\",\"pay\",\"url\",\"vesting\",\"react__WEBPACK_IMPORTED_MODULE_0___default\",\"a\",\"Component\",\"np\",\"ns\",\"currentAccount\",\"props\",\"common_utils__WEBPACK_IMPORTED_MODULE_4__\",\"are_equal_shallow\",\"api_ApplicationApi__WEBPACK_IMPORTED_MODULE_2__\",\"createWorker\",\"catch\",\"error\",\"console\",\"log\",\"error_msg\",\"message\",\"length\",\"split\",\"bitshares_ui_style_guide__WEBPACK_IMPORTED_MODULE_7__\",\"counterpart__WEBPACK_IMPORTED_MODULE_6___default\",\"translate\",\"_this2\",\"createElement\",\"className\",\"style\",\"paddingTop\",\"react_translate_component__WEBPACK_IMPORTED_MODULE_5___default\",\"content\",\"component\",\"maxWidth\",\"onChange\",\"e\",\"setState\",\"target\",\"value\",\"type\",\"width\",\"paddingRight\",\"display\",\"paddingLeft\",\"defaultValue\",\"parseInt\",\"onClick\",\"onSubmit\",\"bind\",\"__webpack_exports__\",\"alt_react__WEBPACK_IMPORTED_MODULE_1__\",\"listenTo\",\"stores_AccountStore__WEBPACK_IMPORTED_MODULE_3__\",\"getProps\",\"getState\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\";\\nimport {connect} from \\\"alt-react\\\";\\nimport ApplicationApi from \\\"api/ApplicationApi\\\";\\nimport AccountStore from \\\"stores/AccountStore\\\";\\nimport utils from \\\"common/utils\\\";\\nimport Translate from \\\"react-translate-component\\\";\\nimport counterpart from \\\"counterpart\\\";\\nimport {Notification} from \\\"bitshares-ui-style-guide\\\";\\n\\nclass CreateWorker extends React.Component {\\n    constructor() {\\n        super();\\n\\n        this.state = {\\n            title: null,\\n            start: new Date(),\\n            end: null,\\n            pay: null,\\n            url: \\\"http://\\\",\\n            vesting: 7\\n        };\\n    }\\n\\n    shouldComponentUpdate(np, ns) {\\n        return (\\n            np.currentAccount !== this.props.currentAccount,\\n            !utils.are_equal_shallow(ns, this.state)\\n        );\\n    }\\n\\n    onSubmit() {\\n        ApplicationApi.createWorker(\\n            this.state,\\n            this.props.currentAccount\\n        ).catch(error => {\\n            console.log(\\\"error\\\", error);\\n            let error_msg =\\n                error.message &&\\n                error.message.length &&\\n                error.message.length > 0\\n                    ? error.message.split(\\\"stack\\\")[0]\\n                    : \\\"unknown error\\\";\\n\\n            Notification.error({\\n                message: counterpart.translate(\\n                    \\\"notifications.worker_create_failure\\\",\\n                    {\\n                        error_msg: error_msg\\n                    }\\n                )\\n            });\\n        });\\n    }\\n\\n    render() {\\n        console.log(\\\"state:\\\", this.state);\\n        return (\\n            <div className=\\\"grid-block\\\" style={{paddingTop: 20}}>\\n                <div className=\\\"grid-content large-9 large-offset-3 small-12\\\">\\n                    <Translate\\n                        content=\\\"explorer.workers.create\\\"\\n                        component=\\\"h3\\\"\\n                    />\\n                    <form style={{maxWidth: 800}}>\\n                        <Translate\\n                            content=\\\"explorer.workers.create_text_1\\\"\\n                            component=\\\"p\\\"\\n                        />\\n                        <Translate\\n                            content=\\\"explorer.workers.create_text_2\\\"\\n                            component=\\\"p\\\"\\n                        />\\n\\n                        <label>\\n                            <Translate content=\\\"explorer.workers.title\\\" />\\n                            <input\\n                                onChange={e => {\\n                                    this.setState({title: e.target.value});\\n                                }}\\n                                type=\\\"text\\\"\\n                            />\\n                        </label>\\n                        <Translate\\n                            content=\\\"explorer.workers.name_text\\\"\\n                            component=\\\"p\\\"\\n                        />\\n                        <div\\n                            style={{\\n                                width: \\\"50%\\\",\\n                                paddingRight: \\\"2.5%\\\",\\n                                display: \\\"inline-block\\\"\\n                            }}\\n                        >\\n                            <label>\\n                                <Translate content=\\\"account.votes.start\\\" />\\n                                <input\\n                                    onChange={e => {\\n                                        this.setState({\\n                                            start: new Date(e.target.value)\\n                                        });\\n                                    }}\\n                                    type=\\\"date\\\"\\n                                />\\n                            </label>\\n                        </div>\\n                        <div\\n                            style={{\\n                                width: \\\"50%\\\",\\n                                paddingLeft: \\\"2.5%\\\",\\n                                display: \\\"inline-block\\\"\\n                            }}\\n                        >\\n                            <label>\\n                                <Translate content=\\\"account.votes.end\\\" />\\n                                <input\\n                                    onChange={e => {\\n                                        this.setState({\\n                                            end: new Date(e.target.value)\\n                                        });\\n                                    }}\\n                                    type=\\\"date\\\"\\n                                />\\n                            </label>\\n                        </div>\\n                        <Translate\\n                            content=\\\"explorer.workers.date_text\\\"\\n                            component=\\\"p\\\"\\n                        />\\n\\n                        <label>\\n                            <Translate content=\\\"explorer.workers.daily_pay\\\" />\\n                            <input\\n                                onChange={e => {\\n                                    this.setState({pay: e.target.value});\\n                                }}\\n                                type=\\\"number\\\"\\n                            />\\n                        </label>\\n                        <Translate\\n                            content=\\\"explorer.workers.pay_text\\\"\\n                            component=\\\"p\\\"\\n                        />\\n\\n                        <label>\\n                            <Translate content=\\\"explorer.workers.website\\\" />\\n                            <input\\n                                onChange={e => {\\n                                    this.setState({url: e.target.value});\\n                                }}\\n                                type=\\\"text\\\"\\n                            />\\n                        </label>\\n                        <Translate\\n                            content=\\\"explorer.workers.url_text\\\"\\n                            component=\\\"p\\\"\\n                        />\\n\\n                        <label>\\n                            <Translate content=\\\"explorer.workers.vesting_pay\\\" />\\n                            <input\\n                                defaultValue={this.state.vesting}\\n                                onChange={e => {\\n                                    this.setState({\\n                                        vesting: parseInt(e.target.value)\\n                                    });\\n                                }}\\n                                type=\\\"number\\\"\\n                            />\\n                        </label>\\n                        <Translate\\n                            content=\\\"explorer.workers.vesting_text\\\"\\n                            component=\\\"p\\\"\\n                        />\\n\\n                        <div\\n                            className=\\\"button-group\\\"\\n                            onClick={this.onSubmit.bind(this)}\\n                        >\\n                            <div className=\\\"button\\\" type=\\\"submit\\\">\\n                                Publish\\n                            </div>\\n                        </div>\\n                    </form>\\n                </div>\\n            </div>\\n        );\\n    }\\n}\\n\\nexport default (CreateWorker = connect(\\n    CreateWorker,\\n    {\\n        listenTo() {\\n            return [AccountStore];\\n        },\\n        getProps() {\\n            return {\\n                currentAccount: AccountStore.getState().currentAccount\\n            };\\n        }\\n    }\\n));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{2310:function(e,t,n){\"use strict\";n.r(t);var a=n(0),r=n.n(a),o=n(31),l=n(235),c=n(24),i=n(15),s=n(2),u=n.n(s),p=n(6),m=n.n(p),f=n(10),g=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,\"value\"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}();var h=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={title:null,start:new Date,end:null,pay:null,url:\"http://\",vesting:7},e}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.a.Component),g(t,[{key:\"shouldComponentUpdate\",value:function(e,t){return e.currentAccount,this.props.currentAccount,!i.a.are_equal_shallow(t,this.state)}},{key:\"onSubmit\",value:function(){l.a.createWorker(this.state,this.props.currentAccount).catch(function(e){console.log(\"error\",e);var t=e.message&&e.message.length&&e.message.length>0?e.message.split(\"stack\")[0]:\"unknown error\";f.Notification.error({message:m.a.translate(\"notifications.worker_create_failure\",{error_msg:t})})})}},{key:\"render\",value:function(){var e=this;return console.log(\"state:\",this.state),r.a.createElement(\"div\",{className:\"grid-block\",style:{paddingTop:20}},r.a.createElement(\"div\",{className:\"grid-content large-9 large-offset-3 small-12\"},r.a.createElement(u.a,{content:\"explorer.workers.create\",component:\"h3\"}),r.a.createElement(\"form\",{style:{maxWidth:800}},r.a.createElement(u.a,{content:\"explorer.workers.create_text_1\",component:\"p\"}),r.a.createElement(u.a,{content:\"explorer.workers.create_text_2\",component:\"p\"}),r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"explorer.workers.title\"}),r.a.createElement(\"input\",{onChange:function(t){e.setState({title:t.target.value})},type:\"text\"})),r.a.createElement(u.a,{content:\"explorer.workers.name_text\",component:\"p\"}),r.a.createElement(\"div\",{style:{width:\"50%\",paddingRight:\"2.5%\",display:\"inline-block\"}},r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"account.votes.start\"}),r.a.createElement(\"input\",{onChange:function(t){e.setState({start:new Date(t.target.value)})},type:\"date\"}))),r.a.createElement(\"div\",{style:{width:\"50%\",paddingLeft:\"2.5%\",display:\"inline-block\"}},r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"account.votes.end\"}),r.a.createElement(\"input\",{onChange:function(t){e.setState({end:new Date(t.target.value)})},type:\"date\"}))),r.a.createElement(u.a,{content:\"explorer.workers.date_text\",component:\"p\"}),r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"explorer.workers.daily_pay\"}),r.a.createElement(\"input\",{onChange:function(t){e.setState({pay:t.target.value})},type:\"number\"})),r.a.createElement(u.a,{content:\"explorer.workers.pay_text\",component:\"p\"}),r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"explorer.workers.website\"}),r.a.createElement(\"input\",{onChange:function(t){e.setState({url:t.target.value})},type:\"text\"})),r.a.createElement(u.a,{content:\"explorer.workers.url_text\",component:\"p\"}),r.a.createElement(\"label\",null,r.a.createElement(u.a,{content:\"explorer.workers.vesting_pay\"}),r.a.createElement(\"input\",{defaultValue:this.state.vesting,onChange:function(t){e.setState({vesting:parseInt(t.target.value)})},type:\"number\"})),r.a.createElement(u.a,{content:\"explorer.workers.vesting_text\",component:\"p\"}),r.a.createElement(\"div\",{className:\"button-group\",onClick:this.onSubmit.bind(this)},r.a.createElement(\"div\",{className:\"button\",type:\"submit\"},\"Publish\")))))}}]),t}();t.default=h=Object(o.a)(h,{listenTo:function(){return[c.a]},getProps:function(){return{currentAccount:c.a.getState().currentAccount}}})}}]);","extractedComments":[]}